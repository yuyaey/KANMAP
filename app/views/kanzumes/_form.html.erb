<% if kanzume.errors.present? %>
  <ul id="error_explanation">
    <% kanzume.errors.full_messages.each do |message| %>
      <li> <%= message %> </li>
    <% end %>
  </ul>
<% end %>
<%= form_with(model: kanzume, local: true) do |f| %>
  <div class="input-field">
    <%= f.label :name %>
    <%= f.text_field :name, required: true, class: 'validate', id: 'kanzume_name', autofocus: true %>
  </div>
  <div class="input-field col s12 m6">
    <select class="icons" name="kanzume[kanzume_icon_id]">
      <option value="" disabled selected>Choose your option</option>
      <%= @kanzume_icons.each do |i|%>
        <option value="<%= i.id %>" data-icon="<%= i.picture %>" >
        <%= i.name %></option>
      <% end %>
    </select>
    <label>アイコンを選択</label>
  </div>
  <% if local_assigns.has_key? :new_flag %>
    <%= f.fields_for :maps do |m| %>
      <div>
        <br>
        <%= "位置情報: #{params[:address_name]}" %>
        <%= m.hidden_field :address, value: params[:address_name], required: true%>
        <%= m.hidden_field :latitude, value: params[:address_latitude], required: true%>
        <%= m.hidden_field :longitude, value: params[:address_longitude], required: true%>
      </div>
      <br>
    <% end %>
  <% end %>
  <%= f.submit nil, class: 'btn'%>
<% end %>

